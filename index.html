<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
  <title>미궁 속의 티타임</title>
  <link rel="icon" href="./assets/favicon.ico" />
  <link rel="stylesheet" href="./src/styles.css" />
</head>
<body>
  <div id="wrap">
    <main id="game">
      <canvas id="cv" width="960" height="960"></canvas>
      <div class="hud">
        <div class="pill" id="hud-left">시간: <b id="hud-time">0.0</b>s · 스텝: <b id="hud-steps">0</b> · 코인: <b id="hud-coins">0</b></div>
        <div class="right">
          <div class="pill">예상점수: <b id="hud-score">0</b></div>
          <div class="pill">최고점: <b id="hud-best">0</b></div>
          <div class="pill" id="hud-effects" style="display:none"></div>
        </div>
      </div>
      <section id="result">
        <div class="card">
          <h2 id="res-title">결과</h2>
          <table>
            <tbody id="res-body"></tbody>
            <tfoot>
              <tr><td class="total">총점</td><td class="total" id="res-total"></td></tr>
            </tfoot>
          </table>
          <div class="row">
            <button id="btn-retry">다시 하기</button>
            <button id="btn-continue">난이도 유지 · 새 미로</button>
          </div>
        </div>
      </section>
    </main>

    <div id="bottom-controls">
      <div id="controls-left">
        <div id="pad" aria-label="direction pad">
          <div></div><button data-dir="up">▲</button><div></div>
          <button data-dir="left">◀</button><div></div><button data-dir="right">▶</button>
          <div></div><button data-dir="down">▼</button><div></div>
        </div>
      </div>
      <div id="controls-right">
        <h1>미궁 속의 티타임</h1>
        <div class="control-row">
          <label>난이도
            <select id="difficulty">
              <option value="easy">초급</option>
              <option value="normal" selected>중급</option>
              <option value="hard">상급</option>
            </select>
          </label>
          <button id="btn-new" class="primary">새 게임</button>
        </div>
        <div class="control-instruction">
          <span class="pill"><span class="dot"></span> <b>조작</b>: 키보드 <span class="kbd">WASD</span>/<span class="kbd">←↑↓→</span> 또는 화면 패드/스와이프</span>
        </div>
      </div>
    </div>

    <footer>
      모바일 대응: 캔버스는 화면에 맞춰 자동 크기 조절, 타일 크기도 해상도에 맞춰 동적 계산. 안개(FoW) 적용, 점수/최고점은 로컬 저장(서버/파이어베이스 없음).
    </footer>
  </div>

  <script type="module" src="./src/main.js"></script>
</body>
</html>
